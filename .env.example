# Database Configuration
# Option 1: Supabase Cloud (Recommended for test/production)
# Format: postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres
# Wo findest du das?
# 1. Gehe zu Supabase Dashboard → Project Settings → Database
# 2. Kopiere "Connection string" → "URI"
# 3. Ersetze [YOUR-PASSWORD] mit deinem Database Password
# Beispiel: DATABASE_URI=postgresql://postgres:SuperSecret123@db.abcdefghijk.supabase.co:5432/postgres
#
# Option 2: Lokale Supabase (für Docker Development)
# DATABASE_URI=postgresql://postgres:your-super-secret-and-long-postgres-password@localhost:5432/postgres
DATABASE_URI=postgresql://postgres:[PASSWORD]@db.[PROJECT-REF].supabase.co:5432/postgres

# Payload CMS Configuration
PAYLOAD_SECRET=your-super-secret-payload-key-here
NEXT_PUBLIC_SERVER_URL=http://localhost:3000

# Supabase Configuration
# Diese Werte findest du in: Supabase Dashboard → Project Settings → API
# 
# NEXT_PUBLIC_SUPABASE_URL: Project URL (Format: https://[PROJECT-REF].supabase.co)
NEXT_PUBLIC_SUPABASE_URL=https://[PROJECT-REF].supabase.co
# NEXT_PUBLIC_SUPABASE_ANON_KEY: Anonymous Key (öffentlich, für Client-seitige Anfragen)
NEXT_PUBLIC_SUPABASE_ANON_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...
# SUPABASE_SERVICE_ROLE_KEY: Service Role Key (⚠️ NIEMALS client-seitig verwenden!)
SUPABASE_SERVICE_ROLE_KEY=eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...

# S3 Storage Configuration (for media files)
# ============================================================================
# Supabase Storage Setup:
# 1. Gehe zu Supabase Dashboard → Storage → New bucket
# 2. Erstelle Bucket:
#    - Name: "media" (oder dein gewählter Name)
#    - Public: ✅ Aktiviert (für öffentlichen Zugriff auf Media)
#    - File size limit: z.B. 10485760 (10 MB)
#    - Allowed MIME types: image/*, video/*
# 3. Gehe zu Storage → Settings → S3 API
#    - Kopiere "Access Key ID" → S3_ACCESS_KEY_ID
#    - Kopiere "Secret Access Key" → S3_SECRET_ACCESS_KEY
# 4. Setze S3_ENDPOINT: https://[DEIN-PROJECT-REF].supabase.co/storage/v1/s3
# ============================================================================
S3_BUCKET=media
S3_ACCESS_KEY_ID=[DEIN-SUPABASE-ACCESS-KEY-ID]
S3_SECRET_ACCESS_KEY=[DEIN-SUPABASE-SECRET-ACCESS-KEY]
S3_REGION=eu-central-1
# Format: https://[PROJECT-REF].supabase.co/storage/v1/s3
S3_ENDPOINT=https://[DEIN-PROJECT-REF].supabase.co/storage/v1/s3

# AI Integration (for future use)
OPENAI_API_KEY=your-openai-api-key
PERPLEXITY_API_KEY=your-perplexity-api-key

# LinkedIn API (for future use)
LINKEDIN_CLIENT_ID=your-linkedin-client-id
LINKEDIN_CLIENT_SECRET=your-linkedin-client-secret

# Email Configuration (Nodemailer)
# ============================================================================
# Wähle die Authentifizierungsmethode:
# - "smtp" (Standard) - SMTP mit App-Passwort
# - "oauth2" - OAuth2 mit Service Account (2-legged OAuth)
# ============================================================================
EMAIL_AUTH_TYPE=smtp

# SMTP Server Configuration (Standard)
# ============================================================================
# Für Gmail:
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=your-email@gmail.com
# SMTP_PASS=your-app-password (⚠️ App-Passwort, nicht das normale Passwort!)
#
# Für SendGrid:
# SMTP_HOST=smtp.sendgrid.net
# SMTP_PORT=587
# SMTP_SECURE=false
# SMTP_USER=apikey
# SMTP_PASS=your-sendgrid-api-key
#
# Andere SMTP-Anbieter:
# - Mailgun: smtp.mailgun.org
# - AWS SES: email-smtp.[region].amazonaws.com
# - Microsoft 365: smtp.office365.com
# ============================================================================
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER=your-email@gmail.com
SMTP_PASS=your-smtp-password
SMTP_FROM_NAME=LinkedIn Manager
SMTP_FROM_ADDRESS=your-email@gmail.com

# OAuth2 with Service Account (2-legged OAuth)
# ============================================================================
# Für Google Workspace / Gmail mit Service Account
#
# Setup-Anleitung:
# 1. Google Cloud Console → IAM & Verwaltung → Servicekonten
# 2. Servicekonto erstellen und E-Mail-Adresse notieren
# 3. Schlüssel → Neuen Schlüssel erstellen → JSON
# 4. Domainweite Delegierung aktivieren (für Google Workspace)
# 5. Admin-Konsole → Sicherheit → API-Steuerung → Domainweite Delegierung
#    - Client-ID des Servicekontos hinzufügen
#    - Scope: https://www.googleapis.com/auth/gmail.send
#
# Option 1: Service Account Key als JSON-String in Environment Variable
# (Empfohlen für Production, z.B. in Vercel/Heroku)
# OAUTH2_SERVICE_ACCOUNT_KEY='{"type":"service_account","project_id":"...","private_key":"...",...}'
#
# Option 2: Service Account Key als Dateipfad
# (Für lokale Entwicklung)
# OAUTH2_SERVICE_ACCOUNT_KEY=./path/to/service-account-key.json
#
# OAUTH2_USER_EMAIL: E-Mail-Adresse des Users, in dessen Namen gesendet wird
# (Muss bei Domainweite Delegierung autorisiert sein)
# ============================================================================
# EMAIL_AUTH_TYPE=oauth2
# OAUTH2_SERVICE_ACCOUNT_KEY=./path/to/service-account-key.json
# OAUTH2_USER_EMAIL=user@yourdomain.com

# n8n Automation Integration
N8N_WEBHOOK_URL=https://your-n8n-instance.com
N8N_WEBHOOK_SECRET=your-n8n-webhook-secret-optional

# Payload CMS API (for n8n workflows)
# These are required by n8n workflows to call Payload CMS API
API_BASE_URL=http://localhost:3000/api
API_TOKEN=your-payload-cms-jwt-bearer-token

# Note: API Keys for OpenAI, Perplexity, and LinkedIn Scraper
# are configured in n8n Credentials, NOT in Payload CMS environment.
# Configure these in your n8n instance:
# - OpenAI API Key (for Content Generation)
# - Perplexity API Key (for Company Research)
# - LinkedIn Scraper API Key (optional, for Reference Post Scraping)

# Development
NODE_ENV=development
